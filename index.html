<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Cartodb/Odyssey.js Tutorial for Making Story Maps by mapninja</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Cartodb/Odyssey.js Tutorial for Making Story Maps</h1>
      <h2 class="project-tagline">A quick tutorial for using CartoDB and Odyssey.js for creating story maps for free!</h2>
      <a href="https://github.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps" class="btn">View on GitHub</a>
      <a href="https://github.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="using-cartodb-and-odysseyjs-for-making-story-maps" class="anchor" href="#using-cartodb-and-odysseyjs-for-making-story-maps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using CartoDB and Odyssey.js for Making Story Maps</h1>

<p>Contact me at <a href="mailto:stacemaples@stanford.edu">stacemaples@stanford.edu</a></p>

<p>This tutorial has been written so that it is generic enough for anyone to easily create a story map using a free CartoDB account and Odyssey.js. The tutorial is written specifically to support a course at Stanford University, but is being made publicly available for the benefit of all. We like the <a href="https://2015.foss4g-na.org/">FOSS4G</a> ethos, here, and try to live it. </p>

<p>I'll be maching up information from various sources (<a href="http://www.wikipedia.org">Wikipedia</a>, etc...) on the modern history of tattooing in San Francisco. Mostly because it's interesting, and there is plenty of material that is cool to look at. That said, I'm not a historian and this is not an authoritative map of that history (now that I think of it, that would be cool though). It's a tutorial on how to make a Story Map from CartoDB and Odyssey.js. </p>

<h3>
<a id="in-this-tutorial-you-will-learn-to" class="anchor" href="#in-this-tutorial-you-will-learn-to" aria-hidden="true"><span class="octicon octicon-link"></span></a>In This Tutorial, You Will Learn To:</h3>

<ul>
<li>Create an empty CartoDB table</li>
<li>Populate that table with fields for your data</li>
<li>Add the data to your new empty table</li>
<li>
<strong>'Geocode'</strong> your records so that they show up on the map</li>
<li>Customize the <strong>Pop-up</strong> and <strong>Hover</strong> doo-dads</li>
<li>Find your Map ID to put into Odyssey.js</li>
<li>Use the Odyssey.js 'Sandbox' to create a basic Story Map</li>
<li>Use an historic map from DavidRumsey.com as a basemap in your Story Map</li>
<li>Share your Odyssey.js Story Map with a URL, Embed Code, or host it yourself.</li>
</ul>

<h3>
<a id="what-you-will-need-before-getting-started" class="anchor" href="#what-you-will-need-before-getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>What You Will Need Before Getting Started</h3>

<ul>
<li>Something interesting to make a Story Map of!</li>
<li>Information about the locations that make up your story

<ul>
<li>The <strong>Latitude &amp; Longitude</strong> of your locations (Go to <a href="http://maps.google.com">Google Maps</a>, find your location, <strong>right-click</strong> on it and select <strong>What's Here</strong>. You can <em>cut-&amp;-paste</em>* the coordinates from the resulting info window)<br>
<img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/googlemapswhatshere.png" alt="what's here">  <img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/googlemapslatlong.png" alt="Google Maps Coordinates">
</li>
<li>Links (URLs) to images</li>
<li>Links (URLs) to more content</li>
<li>Narrative text about your subject</li>
<li>etc...<br>
</li>
</ul>
</li>
<li>A <strong>CartoDB account</strong>. You can get a free one, here: <a href="https://cartodb.com/signup">CartoDB Free Account</a>. If you have an <strong>.edu</strong> email address, you can get a slightly better one, here: <a href="https://cartodb.com/signup?plan=academy">CartoDB Aademy Account</a>
</li>
</ul>

<h3>
<a id="it-would-be-incredibly-helpful-if-you" class="anchor" href="#it-would-be-incredibly-helpful-if-you" aria-hidden="true"><span class="octicon octicon-link"></span></a>It Would Be Incredibly Helpful if You...</h3>

<ul>
<li>Go through the following <a href="http:/academy.cartodb.com/">CartoDB Academy courses:</a> 

<ul>
<li>
<a href="http://academy.cartodb.com/courses/01-beginners-course.html#">Online Mapping for Beginners</a> - Basic concepts of online mapping</li>
<li>
<a href="http://academy.cartodb.com/courses/02-design-for-beginners.html">Introduction to Map Design</a> - Master the basics of designing data for your maps!</li>
</ul>
</li>
<li>Learn more about <a href="http://daringfireball.net/projects/markdown/">MarkDown</a>, which is the text /ing 'language' you will use to create the content in your Odyssey.js Story Map (It's also what this tutorial is written in!).</li>
<li>Take a look at these pages from the w3schools.com:

<ul>
<li>
<a href="http://www.w3schools.com/tags/tag_img.asp">HTML img Tag</a> - We'll use this to turn our image URL into the image in our pop-ups</li>
<li>
<a href="http://www.w3schools.com/tags/tag_a.asp">HTML a Tag</a> - We'll use this to turn our Link URLs into actual links in our pop-ups</li>
</ul>
</li>
</ul>

<h2>
<a id="getting-started-with-cartodb" class="anchor" href="#getting-started-with-cartodb" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started with CartoDB</h2>

<ul>
<li>Login to your CartoDB Account (if you don't have one, see above).</li>
</ul>

<h3>
<a id="create-an-empty-mapdataset" class="anchor" href="#create-an-empty-mapdataset" aria-hidden="true"><span class="octicon octicon-link"></span></a>Create an Empty Map/Dataset</h3>

<ul>
<li>Click on the <strong>New Map</strong> Button.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/newmap.png" alt="New Map Button"></p>

<ul>
<li>Click on the <strong>Create New Map</strong> button</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/createnew.png" alt="Create a new map"></p>

<ul>
<li>Click on your <strong>untitled_map</strong> to highlight it and then click the <strong>Create Empty Map</strong> link at the top right of the page</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/createemptymap.png" alt="Create a new map, again"></p>

<ul>
<li>Click on yet another <strong>Create Map</strong> button...</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/createnewmapagain.png" alt="Create a new map, again"></p>

<h3>
<a id="adding-fields-to-an-empty-cartodb-table" class="anchor" href="#adding-fields-to-an-empty-cartodb-table" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding Fields to an Empty CartoDB Table</h3>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/initialmapview.png" alt="Initial Map View">
You should now see something like the image, above, with a basic CartoDB Basemap and the tools you need to begin building your map. You should have already gone through the CartoDB Academy Basic courses, so we won't go through all of the details, now. We're going to get right to work creating fields to hold our content. Let's get started...</p>

<ul>
<li>Click on the <strong>Data View</strong> button at the top of the page...</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/dataview.png" alt="Create a new map, again"></p>

<ul>
<li>CartoDB will tell you to start adding rows, but we're not ready for that, yet. First, we want to add some columns to hold the content we want in our pop-ups and hoveer actions. Click on the <strong>Add Columns</strong> button, instead...</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/addcolumns.png" alt="Add Columns"></p>

<ul>
<li>Our blank table already has <strong>description</strong> and <strong>name</strong> fields, so we don't need to add those. We <em>do</em> want to add images to our pop-ups, as well as links our image sources and maybe even links to other websites with more information on the subject of the points we input. Let's add columns for those...</li>
</ul>

<p>Add the following columns using the <strong>Add new column</strong> dialog box (just click the <strong>Add Column</strong> button again for each one):</p>

<ul>
<li>
<strong>'img_url1'</strong> with a type of <strong>'string'</strong> (this will hold the URL for the image you want to show up in your pop-up)</li>
<li>
<strong>'img_url1_src'</strong> with a type of <strong>'string'</strong> (to hold the URL of the website you got the image from)

<ul>
<li>If you want more than one image per pop-up, just add more sets of <strong>'img_url#'</strong> and <strong>'img_url#_src'</strong> columns, iterating the number (not too many, though, you'll be able to insert images into the narrative text of your Odyssey.js Story Map)</li>
</ul>
</li>
<li>
<strong>'link_url1'</strong> with a type of <strong>'string'</strong> (This will hold a URL to link out to other sources of information)

<ul>
<li>Again, if you want more links, just iterate the <strong>'link_url#'</strong> column</li>
</ul>
</li>
<li>
<strong>'latitude'</strong> with a type of <strong>'number'</strong>
</li>
<li>
<strong>'longitude'</strong> with a type of <strong>'number'</strong>
</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/addnewcolumndialog.png" alt="Add Columns"></p>

<h2>
<a id="entering-your-data" class="anchor" href="#entering-your-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Entering Your Data!</h2>

<p>Now it's time to start putting some content into your CartoDB table. Hopefully, you've already assembled the materials you need and can simply begin to <strong>cut-&amp;-paste</strong> that data into your table.</p>

<ul>
<li>First, click on either of the <strong>Add Row</strong> buttons at the left side of the first empty row, or at the bottom right of the table, right above the <strong>Add Column</strong> button.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/addnewrow.png" alt="Add a Row"></p>

<ul>
<li>Now simply <strong>double-click</strong> in the <strong>cell</strong> you want to / and <strong>cut-&amp;-paste</strong> the data for your locations into the table.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/editingcells.png" alt="Editing Cell Values"></p>

<p><strong>Now all you need to do is repeat the process for all of your locations!</strong></p>

<h3>
<a id="geocoding-your-locations-making-them-show-up-on-the-map" class="anchor" href="#geocoding-your-locations-making-them-show-up-on-the-map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Geocoding Your Locations (making them show up on the map)</h3>

<p>Once you have finished entering all of your data, you need to tell CartoDB that your <strong>'latitude'</strong> &amp; <strong>'longitude'</strong> fields contain the geographic information about your locations. This will create <strong>geometry</strong> data in the default column, <strong>'the-geom'</strong>.</p>

<ul>
<li>Click on the orange <strong>GEO</strong> button, to the right of the name of the <strong>'the_geom'</strong> column</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/geobutton.png" alt="GEO Button"></p>

<ul>
<li>CartoDB should guess that your coordinate columns are called <strong>'longitude'</strong> &amp; <strong>'latitude'</strong>
</li>
<li>Click <strong>Continue</strong>
</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/geocontinue.png" alt="Geocoding (selecting the columns)"></p>

<blockquote>
<p>You may have noticed that we could have simply placed <strong>street addresses</strong> into our table and <strong>'geocoded'</strong> our data that way. We used <strong>coordinate</strong> for two reasons:</p>

<ul>
<li>First, <strong>geocoding street addresses</strong> in CartoDB comes with a quota, <strong>geocoding</strong> with <strong>coordinates</strong> doesn't...</li>
<li>Second, we're mapping historical locations/addresses that might not necessarily be the same, now, as they were, historically. Streets change names, disappear and are created through time.</li>
</ul>
</blockquote>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/the_geom.png" alt="the_geom"></p>

<ul>
<li>That's it! You should see your coordinates in the <strong>'the_geom'</strong> column, now!</li>
<li>Click on the <strong>MAP VIEW</strong> button at the top and center of the page to see your locations appear on the map.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/mapview.png" alt="Map View"></p>

<p>Ok. You've got a CartoDB map, now. We're not going to go into creating custom symbols, etc... since you can just go the the <strong>CartoDB Academy</strong> page (see the top of this page) and get all of that. We're just going to stick with the default symbol for this tutorial.</p>

<h3>
<a id="customizing-the-click--hover-pop-ups" class="anchor" href="#customizing-the-click--hover-pop-ups" aria-hidden="true"><span class="octicon octicon-link"></span></a>Customizing the Click &amp; Hover Pop-ups</h3>

<p>Now we want to do a little culstomization of the pop-ups that will appear when you click or hover on the points in your map. Notice that, right now, nothing happens when you hover over a point, and you get a message that <strong><em>"You havenâ€™t selected any fields to be shown in the infowindow."</em></strong> when you click on a point. Now is time to fix that, but we're going to go beyond just showing the fields we've entered, since they are just <strong>URLs</strong> and not terribly interesting. </p>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/defaultpopup.png" alt="Boring default pop-up"></p>

<ul>
<li>Click on the <strong>infowindow</strong> button to open the CartoDB control panel at the right side of the page. </li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/popupbutton.png" alt="infowindow customization"></p>

<ul>
<li>Click on the <strong>header</strong> dropdown and select the <strong>image header</strong> type</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/headerdropdown.png" alt="Header Selection"></p>

<ul>
<li>Use the <strong>switches</strong> to turn on all but the <strong>latitude</strong> &amp; <strong>longitude</strong> fields for display in the pop-up</li>
<li>Toggle all of the <strong>title</strong> checkboxes <strong>off</strong>
</li>
<li>
<strong>Drag-and-Drop</strong> the enabled fields to reorder them so that they are ordered like so:

<ul>
<li><strong>name</strong></li>
<li><strong>description</strong></li>
<li><strong>link_url1</strong></li>
</ul>
</li>
<li>Now, click on the <strong>Change HTML</strong> link at the top right of the Cick pop-up panel</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/changehtml.png" alt="Change HTML Link"></p>

<ul>
<li>
<p>Find the following code:</p>

<blockquote>
<pre><code> &lt;h1 class="order1"&gt;{{description}}&lt;/h1&gt;
</code></pre>
</blockquote>

<p>And replace it with:</p>

<blockquote>
<pre><code> &lt;h1 class="order1"&gt;{{name}}&lt;/h1&gt;
</code></pre>
</blockquote>

<p>and click <strong>Apply</strong></p>
</li>
</ul>

<p>This should change the text in the pop-up header to the <strong>name</strong> value you put in the corresponding column.</p>

<ul>
<li>Find the following code:<br>
</li>
</ul>

<pre><code>    &lt;img src="{{name}}"
</code></pre>

<ul>
<li>And replace it with:<br>
</li>
</ul>

<pre><code>    &lt;img src="{{img_url1}}"
</code></pre>

<ul>
<li>and click <strong>Apply</strong>
</li>
</ul>

<p>This should replace the current error message in the header with the image for which you placed the URL in your <strong>'img_url1'</strong> column.</p>

<ul>
<li>Finally, find the following code:<br>
</li>
</ul>

<pre><code>    &lt;p&gt;{{link_url1}}&lt;/p&gt;
</code></pre>

<ul>
<li>And replace it with:<br>
</li>
</ul>

<pre><code>    &lt;a href="{{link_url1}}" target="_blank"'&gt;More Information&lt;/a&gt;
</code></pre>

<ul>
<li>and click <strong>Apply</strong>
</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/custompopup.png" alt="Custom Pop-up"></p>

<h3>
<a id="a-little-more-work" class="anchor" href="#a-little-more-work" aria-hidden="true"><span class="octicon octicon-link"></span></a>A Little More Work</h3>

<p>You can customize your CartoDB map a bit more, now, using the <strong>Options</strong> button, etc... I suggest at least setting the options for <strong>Scroll Wheel Zoom</strong>.</p>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/options.png" alt="Options"></p>

<p>That's it! We're now ready to switch gears to create a Story Map with <strong>Odyssey.js</strong></p>

<p>You can find my Tattoo map at: <a href="http://cdb.io/1FXtGQ9">http://cdb.io/1FXtGQ9</a> </p>

<h2>
<a id="creating-a-story-map-with-odysseyjs" class="anchor" href="#creating-a-story-map-with-odysseyjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a Story Map with Odyssey.js</h2>

<p>Now that you've created the data for your story map, you're ready to go and build the narrative/navigation part of your application. We're going to use Odyssey.js for this. Odyssey.js is actually a JavaScript library that you can use on your own web  server, but CartoDB has implemented a <strong>Sandbox</strong> that allows non-programmers to deploy a story map with very little coding and without any web server infrastructure, at all. Odyssey.js uses a very simple text matkup language called <strong>Markdown</strong>. This entire tutorial is actually written in <strong>Markdown</strong>, which allows Github to render the lists, HTML links and other elements. </p>

<h3>
<a id="choosing-an-odysseyjs-template" class="anchor" href="#choosing-an-odysseyjs-template" aria-hidden="true"><span class="octicon octicon-link"></span></a>Choosing an Odyssey.js Template</h3>

<ul>
<li>First, go to <a href="http://cartodb.github.io/odyssey.js/">http://cartodb.github.io/odyssey.js/</a> and click on the </li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/createstory.png" alt="Create a Story"></p>

<ul>
<li>Now, <strong>select</strong> the <strong>Slides Template</strong>
</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/slidestemplate.png" alt="Slides Template"></p>

<p>You should now see the <strong>Odyssey.js Sandbox</strong> template for a slideshow style story map. Note that you will be editing in the panel labeled <strong>Odyssey Sandbox</strong> and your edits will change the look of the content panel on the left, as well as the map. The <strong>Odyssey Sandbox</strong> panel will not be visible in the final story map.</p>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/odysseyslidestemplate.png" alt="Odyssey.js Slide Template Sandbox"></p>

<h3>
<a id="customize-the-config-block-of-your-odysseyjs-applicaiton" class="anchor" href="#customize-the-config-block-of-your-odysseyjs-applicaiton" aria-hidden="true"><span class="octicon octicon-link"></span></a>Customize the <strong>config block</strong> of Your Odyssey.js Applicaiton</h3>

<ul>
<li>At the top of the <em>Oddysey Sandbox</em>* panel, you should see two lines of text that look like this:</li>
</ul>

<pre><code>    ```
    -title: "Odyssey example FTW"
    -author: "CartoDB"
    ```
</code></pre>

<ul>
<li>Go ahead and customize it so that it reflects the <strong>title</strong> and <strong>author</strong> for your project:</li>
</ul>

<pre><code>    ```
    -title: "The Tattoo Map of San Francisco"
    -author: "Stace Maples"
    ```
</code></pre>

<h3>
<a id="bringing-your-cartodb-visualization-into-odysseyjs" class="anchor" href="#bringing-your-cartodb-visualization-into-odysseyjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bringing your CartoDB Visualization into Odyssey.js</h3>

<p>The first thing we want to do is bring the <strong>CartoDB Visualization</strong> we created into the Odyssey.js application. We're going to use the <strong><a href="http://cartodb.github.io/odyssey.js/documentation/#optional-options">vizjson</a></strong> option in the <strong><a href="http://cartodb.github.io/odyssey.js/documentation/#config-block">config block</a></strong> of your Odyssey.js markdown. First, you will need the JavaScript API URL of your visualization.</p>

<ul>
<li>Return to the CartoDB page for your visualization and click on the <strong>Share</strong> button</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/share.png" alt="Share Button"></p>

<ul>
<li>Click on the <strong>Copy</strong> button under the CartoDB.js panel to copy your CartoDB.js API URL</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/cartodbjskey.png" alt="Slides Template"></p>

<ul>
<li>Return to the <strong>Odyssey Sandbox</strong> and paste '<strong>vizjson: "<em>Your CartoDB.js API URL</em>"</strong>' with your <strong>CartoDB.js API URL</strong> into the <strong>config block</strong>, so that it now looks something like this:</li>
</ul>

<pre><code>    ```
    -title: "The Tattoo Map of San Francisco"
    -author: "Stace Maples"
    -vizjson: "https://stanfordurb150.cartodb.com/api/v2/viz/9ac86cfa-e53c-11e4-81e9-0e853d047bba/viz.json"
    ```
</code></pre>

<p>Note that the data points from your CartoDB visualization should now be visible in your map.</p>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/vizjson.png" alt="vizjson"></p>

<h3>
<a id="adding-a-slide-to-your-story-map" class="anchor" href="#adding-a-slide-to-your-story-map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Adding a Slide to Your Story Map</h3>

<p>Now you're ready to start adding the content of your slides to the Oddysey.js Sandbox. Now is a good time to review a little bit about the Markdown language that drives the Odyssey.js application. As mentioned above, <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a> is a text markup language that acts a bit like shorthand for writing HTML code. Markdown simplifies the process of creating HTML text formatting, add ing images, links and other content to a page meant for the web. This entire tutorial is written in <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a>. 
Odyssey.js uses <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a> in thhe way it is intended (to format text and content) with one important exception. The <strong>H1 Heading</strong> element is used by Odyssey.js to signal the beginning of a "new slide." You can see this in the <strong>Odyssey.js Sandbox</strong> if you count the number of <strong>dots</strong> at the top of the content panel on the left, and then count the number of lines in the ODYSSEY SANDBOX panel on the right that begin with the <strong>#</strong> symbol. Same number! Each <strong>H1 Header</strong> line in the Sandobox define the begining of a new slide, as well as the Title text of that slide.</p>

<h4>
<a id="here-are-a-few-more-important-bits-of-markdown-syntax" class="anchor" href="#here-are-a-few-more-important-bits-of-markdown-syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Here are a few more important bits of <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a> syntax:</h4>

<h3>
<a id="headers" class="anchor" href="#headers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Headers</h3>

<pre><code># Level 1 (H1) Header, also indicates the beginning of a new slide in Odyssey.js
## Level 2 Header
### Level 3 Header
</code></pre>

<p>And will render like this:</p>

<h1>
<a id="level-1-h1-header-also-indicates-the-beginning-of-a-new-slide-in-odysseyjs" class="anchor" href="#level-1-h1-header-also-indicates-the-beginning-of-a-new-slide-in-odysseyjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Level 1 (H1) Header, also indicates the beginning of a new slide in Odyssey.js</h1>

<h2>
<a id="level-2-header" class="anchor" href="#level-2-header" aria-hidden="true"><span class="octicon octicon-link"></span></a>Level 2 Header</h2>

<h3>
<a id="level-3-header" class="anchor" href="#level-3-header" aria-hidden="true"><span class="octicon octicon-link"></span></a>Level 3 Header</h3>

<h3>
<a id="paragraph-text" class="anchor" href="#paragraph-text" aria-hidden="true"><span class="octicon octicon-link"></span></a>Paragraph Text</h3>

<pre><code>Paragraph text is just paragraph text. You can **bold** text or use *italics*. Those are the most common uses and they end up looking like this:
</code></pre>

<p>Paragraph text is just paragraph text. You can <strong>bold</strong> text or use <em>italics</em>. Those are the most common uses and they end up looking like this.</p>

<h3>
<a id="lists" class="anchor" href="#lists" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lists</h3>

<pre><code>1. This
2. Is
3. An
4. Ordered
5. List

* This
* Is
* A
* Bullet
* List
</code></pre>

<p>Which renders like this:<br>
1. This<br>
2. Is<br>
3. An<br>
4. Ordered<br>
5. List</p>

<ul>
<li>This</li>
<li>Is</li>
<li>A</li>
<li>Bullet</li>
<li>List</li>
</ul>

<h3>
<a id="links" class="anchor" href="#links" aria-hidden="true"><span class="octicon octicon-link"></span></a>Links</h3>

<pre><code>Create Links like this: [Google](http://google.com)
</code></pre>

<p>Which Renders like this:
<a href="http://google.com">Google</a></p>

<h3>
<a id="images" class="anchor" href="#images" aria-hidden="true"><span class="octicon octicon-link"></span></a>Images</h3>

<pre><code>You can place an image like this: 

![Stace is silly](http://web.stanford.edu/~maples/images/staceissilly.jpg "Beardo")
</code></pre>

<p>Which will render like this:</p>

<p><img src="http://web.stanford.edu/%7Emaples/images/staceissilly.jpg" alt="Stace is silly" title="Beardo"></p>

<p>That's as far as we are going to dive into Markdown for this tutorial, but there is loads more you can do with it. If you want' to find out more, go to <a href="http://daringfireball.net/projects/markdown/syntax">http://daringfireball.net/projects/markdown/syntax</a></p>

<h2>
<a id="making-your-first-odysseyjs-slide" class="anchor" href="#making-your-first-odysseyjs-slide" aria-hidden="true"><span class="octicon octicon-link"></span></a>Making Your First Odyssey.js Slide</h2>

<p>Ok, time to create your first Story Map slide. </p>

<ul>
<li>Return to the <strong>Odyssey Sandbox</strong> and place your curser on the blank line just above the deafult first slide <strong>H1</strong> header and add the <strong>Title Text</strong> you want for your first slide, like this:</li>
</ul>

<pre><code>    #Lyle Tuttle's First Tattoo Shop
</code></pre>

<ul>
<li>Hit <strong>Enter</strong>
</li>
<li>Now position the map so that the <em>crosshair</em> in the center of the screen is directly above the location you want to highlight. Use the <strong>Zoom</strong> tool to change the scale of the map, until you are happy with the view.</li>
<li>Notice that when you created the <strong>H1</strong> header for your slide, a little <strong>ADD</strong> button appeared to the left of it in the <strong>Odyssey Sandbox</strong>. Click on that <strong>ADD</strong> button to snapshot the view for the slide. Select the option to <strong><em>move map to the current position</em></strong>.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/addslide.png" alt="Add a New Slide"></p>

<h3>
<a id="add-more-slides" class="anchor" href="#add-more-slides" aria-hidden="true"><span class="octicon octicon-link"></span></a>Add more slides!</h3>

<p>Now that you know how, you can delete the <strong>Sandbox</strong> Markdown below your first slide and add all of the slides you want! Insert Images, etc...</p>

<h2>
<a id="using-a-georeferenced-map-from-davidrumseycom-as-your-basemap" class="anchor" href="#using-a-georeferenced-map-from-davidrumseycom-as-your-basemap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using a Georeferenced Map from <a href="http://www.davidrumsey.com/view/georeferenced-maps">DavidRumsey.com</a> as Your Basemap</h2>

<p>It's possible to change the basemap of your <strong>Odyssey.js</strong> Story Map, either using the Basemap Selector at the bottom of the <strong>Sandbox</strong> panel, or by adding a bit of code to the <strong>config block</strong>. This is a bit tricky, but I will briefly explain it here.</p>

<ul>
<li>First, go to <a href="http://www.davidrumsey.com/view/georeferenced-maps">DavidRumsey.com</a> and find a map that is georeferenced that you can use (I won't go into the use of his georeferencer here, but you can search for any map you want and georeference it yourself). There is a <strong>Map Finder</strong> at the bottom of the page, which is currently the easiest way to locate a map for the area you want.</li>
<li>Click on the dots to preview the maps, and once you find one, click on <strong>View this map in... *Georeferencer</strong>*</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/rumseymapfinder.png" alt="Rumsey Map Finder"></p>

<ul>
<li>Click on the <strong>Embed OGC WMTS tiles</strong> link at the top right of the map window</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/embedtiles.png" alt="Embed OGC WMTS"></p>

<ul>
<li>Click on the <strong>Affine Thumbnail</strong><br>
</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/affine.png" alt="Affine Thumbnail"></p>

<ul>
<li>Find the <em>MapBox JS</em>* Source code link on the right side of the page and click on it</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/mapboxembedcode.png" alt="MapBox Embed Code"></p>

<ul>
<li>OK, here's the tricky part. It looks scarier than it is. Find the first URL for the Tile Server in the code. It should be <strong>Green</strong>. Highlight &amp; copy that URL, with the quotes. It will look something like this:<br>
</li>
</ul>

<pre><code>    "http://georeferencer-0.tileserver.com//266b60e098fda1ddbe521ebff0e4d8676a549302/map/CGtnosESWB2NnsgVyjmQc5/201411301752-7AINSs/affine/{z}/{x}/{y}.png"
</code></pre>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/tileserverurl.png" alt="Tile Server URL"></p>

<ul>
<li>Return to your <strong>Odyssey.js Sandbox</strong> and add the following text to your <strong>config block</strong> at the top of your Markdown code, using the URL you copied from davidrumsey.com, like this:<br>
</li>
</ul>

<pre><code>    -baseurl: "http://georeferencer-0.tileserver.com//266b60e098fda1ddbe521ebff0e4d8676a549302/map/CGtnosESWB2NnsgVyjmQc5/201411301752-7AINSs/affine/{z}/{x}/{y}.png"  
</code></pre>

<h2>
<a id="sharing-your-story-map" class="anchor" href="#sharing-your-story-map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sharing your Story Map</h2>

<p>Once you have created all the slides you are interested in putting into your Story Map, you are ready to share your work with the world. The <strong>Odyssey.js Sandbox</strong> allows you to do this in three ways:</p>

<h4>
<a id="sharing-with-an-url-or-embed-code" class="anchor" href="#sharing-with-an-url-or-embed-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Sharing with an URL or Embed code</h4>

<p><strong>Odyssey.js</strong> can export your Story Map directly to a site called <a href="http://bl.ocks.org">bl.ocks.org</a>, which is just a platform for sharing and rendering JavaSript code, or give you an <strong>IFRAME</strong> code snippet to paste into your blog, or other website.</p>

<ul>
<li>First, click on the <strong>Share</strong> button (it looks like a paper airplane)</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/sharestorymapbutton.png" alt="Share Story Map"></p>

<ul>
<li>Select whether you want to share an <strong>URL</strong> of Embed an <strong>IFRAME</strong> into an existing website, then click <strong>Copy</strong> to copy the <strong>URL</strong> or <strong>Code</strong> to your clipboard. For this tutorial, just select the <strong>URL</strong> option.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/shareurl.png" alt="Share Story Map"></p>

<p>Here's the <a href="">bl.ocks.org</a> version <strong>(URL)</strong> of the tutorial map: <a href="http://bl.ocks.org/anonymous/raw/636d193377d5eb399f18">http://bl.ocks.org/anonymous/raw/636d193377d5eb399f18</a></p>

<p>Here's the map in my blog: <a href="http://www.stacemaples.com/tattoo-map-of-san-francisco-odyssey-js-tutorial-sample/">http://www.stacemaples.com/tattoo-map-of-san-francisco-odyssey-js-tutorial-sample/</a>  </p>

<h4>
<a id="downloading-and-hosting-your-story-map" class="anchor" href="#downloading-and-hosting-your-story-map" aria-hidden="true"><span class="octicon octicon-link"></span></a>Downloading and Hosting Your Story Map</h4>

<p>You can also download the code for your Story Map and host it on your own Web Server (provided you have one). </p>

<ul>
<li>Click on the <strong>Download story</strong> button in the <strong>Odyssey Sandbox</strong> panel and save the resulting <strong>.zip</strong> file to your computer. </li>
<li>Extract the <strong>Odyssey.html</strong> file and copy it to your Web Server. It's ready to go! You can make customizations to the code, if you like.</li>
</ul>

<p><img src="https://raw.githubusercontent.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps/master/images/edit/downloadodyssey.png" alt="Download Odyssey"></p>

<p>Here's the map hosted on my web server: <a href="http://web.stanford.edu/%7Emaples/maps/odyssey/odyssey.html">http://web.stanford.edu/~maples/maps/odyssey/odyssey.html</a>  </p>

<h1>
<a id="here-is-the-markdown-code-for-the-sample-story-map-i-just-walked-through-above" class="anchor" href="#here-is-the-markdown-code-for-the-sample-story-map-i-just-walked-through-above" aria-hidden="true"><span class="octicon octicon-link"></span></a>Here is the Markdown Code for the Sample Story Map I Just Walked Through, Above:</h1>

<pre><code>    ```
    -baseurl: "http://georeferencer-0.tileserver.com//266b60e098fda1ddbe521ebff0e4d8676a549302/map/CGtnosESWB2NnsgVyjmQc5/201411301752-7AINSs/affine/{z}/{x}/{y}.png"
    -title: "The Tattoo Map of San Francisco"
    -author: "Stace Maples"
    -vizjson: "https://stanfordurb150.cartodb.com/api/v2/viz/9ac86cfa-e53c-11e4-81e9-0e853d047bba/viz.json"
    ```
    #The Tattoo Map of San Francisco
    ```
    - center: [37.7687, -122.4355]
    - zoom: 13
    ```
    The History of American Tattooing and the City of San Francisco have an intimate relationship. This map explores that relationship. It is by no means authoritative, or comprehensive. Slides and information will be added, over time.

    #Lyle Tuttle's First Tattoo Shop
    ```
    - center: [37.7801, -122.4121]
    - zoom: 16
    ```
    ![Lyle Tuttle](http://www.cdn1.inkedout4life.com/wp-content/uploads/2013/01/Lyle-Tuttle-artist-large.jpg)

    Tuttle was born in Chariton, Iowa in 1931 but grew up in Ukiah, California. At the age of fourteen he purchased his first tattoo for $3.50. In 1949, he began tattooing professionally.[2] In 1954 he opened his own studio in San Francisco. This first shop was open for nearly 30 years. Tuttle tattooed Janis Joplin, Cher, Henry Fonda, Paul Stanley, Joan Baez, the Allman Brothers, and many other notable musicians, actors, and celebrities.

    #Lyle Tuttle's Tattoo Museum and Studio
    ```
    - center: [37.8024, -122.4135]
    - zoom: 17
    ```
    ![Lyle Tuttle](http://www.lyletuttle.com/_Media/lyle-tuttle-2012_med.jpeg)

    His first shop when working for Bert Grimm at 16 Cedar Way, Long Beach, CA. on "The Pike". After tattooing in Anchorage and Fairbanks, AK. and Oakland, CA., Lyle opened up shop in 1960 at #30 7th St., in between Mission St. and Market St., also referred to as South of Market, San Francisco, CA. As the story goes, the end of an era and the beginning of a new one. Lyle tattooed at #30 7th St., San Francisco, CA. for 29 and a half years, until the Loma Prieta Earthquake in 1989 caused the building to be "yellow tagged". The shop and the museum are both now open at 841 Columbus Avenue.

</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/mapninja/CartoDB_Odyssey_Tutorial_for_Story_Maps">Cartodb/Odyssey.js Tutorial for Making Story Maps</a> is maintained by <a href="https://github.com/mapninja">mapninja</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

